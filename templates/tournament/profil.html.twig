{% extends 'base.html.twig' %}

{% block body %}
<section class="tournament-profil">
  <h1>ğŸ® Profil tournoi : {{ tournament.name }}</h1>

  <p>RÃ´le : {{ participant.role|default('Joueur') }}</p>
  <p>CrÃ©dits : {{ participant.credits }}</p>

  <h2>ğŸ´ Vos cartes</h2>
  {% for card in participant.cards %}
    <div class="card">
      <p>{{ card.card.name }} Ã— {{ card.quantity }}</p>
    </div>
  {% else %}
    <p>Aucune carte pour ce tournoi.</p>
  {% endfor %}

  <h2>âš”ï¸ Vos matchs</h2>
  {% if matches is not empty %}
    <ul>
      {% for match in matches %}
        <li>
          <a href="{{ path('app_tournament_match_show', { tournamentId: tournament.id, id: match.id }) }}">
            {{ match.player1.user.email }} vs {{ match.player2.user.email }}
          </a>
          {% if match.winner %}
            â€” Gagnant : {{ match.winner.user.email }}
          {% else %}
            â€” En attente
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>Aucun match jouÃ© pour le moment.</p>
  {% endif %}
</section>
<section class="player-tournament-stats">
  <h2 class="neon-title">ğŸ“Š Mes statistiques dans ce tournoi</h2>

  <div class="stats-grid">
    <div class="stat-card">
      <p class="stat-value">{{ playerStats.matchesPlayed|default(0) }}</p>
      <p class="stat-label">Matchs jouÃ©s</p>
    </div>

    <div class="stat-card">
      <p class="stat-value">{{ playerStats.wins|default(0) }}</p>
      <p class="stat-label">Victoires</p>
    </div>

    <div class="stat-card">
      <p class="stat-value">{{ playerStats.losses|default(0) }}</p>
      <p class="stat-label">DÃ©faites</p>
    </div>

    <div class="stat-card">
      <p class="stat-value">{{ playerStats.winRate|default(0) }}%</p>
      <p class="stat-label">Taux de victoire</p>
    </div>

    <div class="stat-card">
      <p class="stat-value">{{ playerStats.creditsEarned|default(0) }}</p>
      <p class="stat-label">CrÃ©dits gagnÃ©s</p>
    </div>

    <div class="stat-card">
      <p class="stat-value">{{ playerStats.creditsSpent|default(0) }}</p>
      <p class="stat-label">CrÃ©dits dÃ©pensÃ©s</p>
    </div>

    <div class="stat-card">
      <p class="stat-value">{{ playerStats.cardsUsed|default(0) }}</p>
      <p class="stat-label">Cartes utilisÃ©es</p>
    </div>

    <div class="stat-card">
      <p class="stat-value">{{ playerStats.favoriteElement|default('â€”') }}</p>
      <p class="stat-label">Ã‰lÃ©ment dominant</p>
    </div>
  </div>

  <div class="highlight-card">
    <p>â­ <span class="highlight">{{ playerStats.topCard.name|default('Aucune carte favorite') }}</span></p>
  </div>
</section>

{% endblock %}


