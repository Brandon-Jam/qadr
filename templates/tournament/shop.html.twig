{% extends 'base.html.twig' %}

{% block body %}
<section class="tournament-shop">
    <h1 class="shop-title">ðŸ›’ Boutique du tournoi : <span>{{ tournament.name }}</span></h1>
    <p class="credits">ðŸ’° CrÃ©dits disponibles : <strong>{{ participant.credits }}</strong></p>

    <div class="cards-grid">
        {% for tc in cards %}
            <div class="shop-card">
                <h3 class="card-name">{{ tc.card.name }}</h3>
                <p class="card-effect">{{ tc.card.effect }}</p>
                <p class="card-cost">ðŸ’Ž CoÃ»t : <strong>{{ tc.card.cost }}</strong> crÃ©dits</p>

                <form method="post" action="{{ path('app_tournament_buy_card', {id: tournament.id, cardId: tc.card.id}) }}">
                    <button 
                        class="btn-buy {% if participant.credits < tc.card.cost %}disabled{% endif %}" 
                        {% if participant.credits < tc.card.cost %}disabled{% endif %}
                    >
                        Acheter
                    </button>
                </form>
            </div>
        {% else %}
            <p class="empty-text">Aucune carte disponible pour ce tournoi.</p>
        {% endfor %}
    </div>
</section>
{% endblock %}